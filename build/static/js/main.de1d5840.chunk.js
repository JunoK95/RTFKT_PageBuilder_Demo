(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,n){e.exports={editor:"PageBuilder_editor__1pOwa"}},169:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},187:function(e,t,n){e.exports=n(391)},192:function(e,t,n){},196:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),o=n.n(l),i=(n(192),n(46)),c=n(47),u=n(50),s=n(48),d=n(51),m=n(27),f=n(28),p=n(18),h=n(87),b=n.n(h),E=n(61),g=n.n(E);function v(e){var t=e.children,n=e.left,l=e.top,o=Object(a.useState)(!1),i=Object(p.a)(o,2),c=i[0],u=i[1];return r.a.createElement("div",{style:{left:n,top:l},className:b()(g.a.wrap,Object(m.a)({},g.a["wrap--open"],c))},r.a.createElement("button",{className:g.a.handle,onClick:function(){return u(!c)}},c?"Close":"Edit"),r.a.createElement("div",{className:g.a.control},r.a.createElement("div",{className:g.a.control_inner},t)))}var x=n(168),C=n.n(x);var y={string:{defaultValue:"",render:function(e,t){return r.a.createElement("input",{type:"text",value:e,onChange:function(e){return t(e.target.value)}})}},boolean:{defaultValue:!1,render:function(e,t){return r.a.createElement("input",{type:"checkbox",onChange:function(e){return t(e.target.checked)},checked:!!e})}},blob:{defaultValue:"",render:function(e,t){return r.a.createElement("textarea",{onChange:function(e){return t(e.target.value)},value:e})}}},w=function(e,t){var n,o;t||(t={});var p={},h=r.a.createContext();return p.Provider=function(n){function l(){var e,n;Object(i.a)(this,l);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(l)).call.apply(e,[this].concat(r)))).state={fields:{},values:Object(f.a)({},t),ensureField:function(e,t){return n.setState({fields:Object(f.a)({},n.state.fields,Object(m.a)({},e,t))})},setFieldValue:function(e,t){return n.setState({values:Object(f.a)({},n.state.values,Object(m.a)({},e,t))})}},n}return Object(d.a)(l,n),Object(c.a)(l,[{key:"render",value:function(){var t=this.state,n=t.fields,l=t.values,o=t.setFieldValue;return r.a.createElement(h.Provider,{value:this.state},r.a.createElement(a.Fragment,null,this.props.children),r.a.createElement("div",{className:C.a.editor},Object.keys(n).map(function(t){return void 0===e[t]?null:r.a.createElement(v,{key:t,left:n[t].left,top:n[t].top},e[t].render(l[t],function(e){return o(t,e)}))})))}}]),l}(a.Component),p.Field=(o=n=function(e){function n(){var e,t;Object(i.a)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(l)))).element=r.a.createRef(),t.refresh=function(){var e=t.element.current.offsetParent.getBoundingClientRect();t.context.ensureField(t.props.field,{left:e.left+t.element.current.offsetLeft+t.element.current.offsetWidth+document.body.scrollLeft,top:e.top+t.element.current.offsetTop+document.body.scrollTop})},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.element.current=Object(l.findDOMNode)(this),window.addEventListener("resize",this.refresh),window.addEventListener("scroll",this.refresh),window.requestAnimationFrame(function(){return window.requestAnimationFrame(function(){return window.requestAnimationFrame(e.refresh)})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("scroll",this.refresh)}},{key:"render",value:function(){var e=this.props.field,n=this.context.values;return this.props.children(void 0===n[e]?t[e]:n[e])}}]),n}(a.Component),n.contextType=h,o),p.fields=Object.keys(e).reduce(function(e,t){return e[t]=t,e},{}),p}({learnMore:y.string,file:y.string,isRunning:y.boolean,someText:y.blob},{learnMore:"World",file:"src/App.js",isRunning:!0,someText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur pharetra sollicitudin augue ut ullamcorper. Mauris sit amet felis condimentum ipsum volutpat posuere non vestibulum turpis. Aenean semper, enim ac ultrices iaculis, ligula ipsum elementum libero, eget molestie ligula ligula eu magna. Sed convallis venenatis quam nec efficitur. Praesent leo elit, volutpat vitae leo et, viverra rutrum ligula. Curabitur maximus nibh vitae felis luctus consequat. Cras sollicitudin quis neque ut luctus. Aliquam lacinia ultricies porttitor."}),O=w.Provider,j=w.Field,k=w.fields,S=n(169),_=n.n(S),F=(a.Component,n(196),n(42)),z=n.n(F),A=n(70),T=n(71),P=n.n(T),B=Object(a.createContext)();var D=function(e){var t=Object(a.useState)([{type:"text",text:"What's Up World",width:300,height:200,pos_x:100,pos_y:150,color:"#fff",fontSize:14,backgroundColor:"#11a4ff",zIndex:0}]),n=Object(p.a)(t,2),l=n[0],o=n[1],i=function(){var e=Object(A.a)(z.a.mark(function e(t){var n;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{type:"text",text:"What's Up World",width:300,height:200,pos_x:100,pos_y:150,color:"#fff",fontSize:14,backgroundColor:"#11a4ff",zIndex:0}],e.next=3,P()({method:"GET",params:{page_id:t},url:"https://us-central1-rtfkt-pagebuilder.cloudfunctions.net/getRequestData"}).then(function(e){o(e.data.data)}).catch(function(){o(n)});case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(A.a)(z.a.mark(function e(t){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P()({method:"POST",data:{page_id:t,data:l},url:"https://us-central1-rtfkt-pagebuilder.cloudfunctions.net/saveData"});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(B.Provider,{value:{data:l,setdata:o,functions:{addBlock:function(){var e=l;e.push({type:"text",text:"text",width:300,height:200,pos_x:0,pos_y:0,color:"#000",fontSize:14,backgroundColor:"#fff",zIndex:0}),console.log("DataCopy",e),o(e)},deleteBlock:function(e){var t=l;t.splice(e,1),o(t)},changeValue:function(e,t,n){var a=l;a[e]=Object(f.a)({},a[e],Object(m.a)({},t,n)),console.log("Change Value",a),o(a)},initializeData:i,saveData:c}}},e.children)};var I={container:{position:"absolute",display:"flex",backgroundColor:"#ccc",alignItems:"center",justifyContent:"center"},rightCorner:{position:"absolute",right:"20px"},textBox:{textAlign:"center",verticalAlign:"center"}},W=function(e){var t=e.item,n=e.position,a=e.setopen,l=e.setselected,o=t.width,i=t.height,c=t.pos_x,u=t.pos_y,s=t.color,d=t.fontSize,m=t.backgroundColor,p=t.zIndex;return r.a.createElement("div",{style:Object(f.a)({},I.container,{width:parseInt(o,10),height:parseInt(i,10),left:parseInt(c,10),top:parseInt(u,10),color:s,fontSize:parseInt(d),zIndex:p,backgroundColor:m}),onClick:function(){a(!0),l(n)}},r.a.createElement("div",{style:Object(f.a)({},I.textBox,{color:s})},t.text))},L=n(438),N=n(417),R=n(427),V=n(428),q=n(436),M=n(422),G=n(425),U=n(117),H=n(421),K=n(172),J=n.n(K),Z=n(171),Q=n.n(Z);var X=function(e){var t=e.content,n=e.title,l=Object(a.useState)(!1),o=Object(p.a)(l,2),i=o[0],c=o[1];return r.a.createElement("div",null,r.a.createElement(N.a,{button:!0,onClick:function(){return c(!i)}},i?r.a.createElement(Q.a,null):r.a.createElement(J.a,null),n),r.a.createElement(H.a,{in:i},t))},Y=n(423);var $=function(e){var t=Object(a.useContext)(B),n=e.handleChange,l=e.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:ee.colorContainer},r.a.createElement("div",{style:ee.label},"Position"),r.a.createElement("div",{style:ee.textFieldContainer},r.a.createElement(M.a,{value:t.data[l].pos_x,onChange:function(e){return n("pos_x",e.target.value)},startAdornment:r.a.createElement(Y.a,{position:"start"},"x: "),endAdornment:r.a.createElement(Y.a,{position:"end"},"px"),type:"number",inputProps:{min:"0"},label:"width"}),r.a.createElement(G.a,{id:"standard-weight-helper-text"},"Horizontal")),r.a.createElement("div",{style:ee.textFieldContainer},r.a.createElement(M.a,{value:t.data[l].pos_y,onChange:function(e){return n("pos_y",e.target.value)},startAdornment:r.a.createElement(Y.a,{position:"start"},"y: "),endAdornment:r.a.createElement(Y.a,{position:"end"},"px"),type:"number",inputProps:{min:"0"},label:"height"}),r.a.createElement(G.a,{id:"standard-weight-helper-text"},"Vertical"))),r.a.createElement("div",{style:ee.colorContainer},r.a.createElement("div",{style:ee.label},"Size"),r.a.createElement("div",{style:ee.textFieldContainer},r.a.createElement(M.a,{value:t.data[l].width,onChange:function(e){return n("width",e.target.value)},startAdornment:r.a.createElement(Y.a,{position:"start"},"w: "),endAdornment:r.a.createElement(Y.a,{position:"end"},"px"),type:"number",inputProps:{min:"1"},label:"width"}),r.a.createElement(G.a,{id:"standard-weight-helper-text"},"Width")),r.a.createElement("div",{style:ee.textFieldContainer},r.a.createElement(M.a,{value:t.data[l].height,onChange:function(e){return n("height",e.target.value)},startAdornment:r.a.createElement(Y.a,{position:"start"},"h: "),endAdornment:r.a.createElement(Y.a,{position:"end"},"px"),type:"number",inputProps:{min:"1"},label:"height"}),r.a.createElement(G.a,{id:"standard-weight-helper-text"},"Height"))),r.a.createElement("div",{style:ee.colorContainer},r.a.createElement("div",{style:ee.textFieldContainer},r.a.createElement(M.a,{value:t.data[l].zIndex,onChange:function(e){return n("zIndex",e.target.value)},startAdornment:r.a.createElement(Y.a,{position:"start"},"z: "),endAdornment:r.a.createElement(Y.a,{position:"end"},"index"),type:"number",inputProps:{min:"1"}}),r.a.createElement(G.a,{id:"standard-weight-helper-text"},"Z-Index"))))},ee={container:{postion:"absolute",width:300,height:200,backgroundColor:"#ccc"},textFieldContainer:{padding:"12px 0"},colorContainer:{padding:24},label:{fontSize:14,padding:"12px 0",color:"#777"}},te=n(173),ne=n.n(te);var ae=function(e){var t=e.open,n=e.setopen,l=e.selected,o=e.update,i=e.handleDelete,c=e.page_id,u=Object(a.useContext)(B),s=u.data[l],d=s.text,h=s.color,b=s.backgroundColor,E=Object(a.useState)({text:d,color:h,backgroundColor:b}),g=Object(p.a)(E,2),v=g[0],x=g[1],C=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&n(e)}},y=function(e,t){x(Object(f.a)({},v,Object(m.a)({},e,t))),u.functions.changeValue(l,e,t),o()};return r.a.createElement(L.a,{anchor:"right",open:t,onClose:C(!1),onOpen:C(!0)},r.a.createElement(N.a,null,r.a.createElement(R.a,null,r.a.createElement(ne.a,{fontSize:"large"})),r.a.createElement(V.a,null,"RTFKT TEST")),r.a.createElement(X,{title:"Basic",content:r.a.createElement($,{handleChange:y,selected:l})}),r.a.createElement(X,{title:"Background",content:r.a.createElement("div",{style:re.colorContainer},r.a.createElement("div",{style:re.label},"Background Color"),r.a.createElement(U.CirclePicker,{colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","black","white","white","white","white","white"],onChange:function(e){return y("backgroundColor",e.hex)}}))}),r.a.createElement(X,{title:"Text",content:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:re.colorContainer},r.a.createElement("div",{style:re.label},"Text"),r.a.createElement(q.a,{value:u.data[l].text,multiline:!0,fullWidth:!0,onChange:function(e){return y("text",e.target.value)}})),r.a.createElement("div",{style:re.colorContainer},r.a.createElement("div",{style:re.textFieldContainer},r.a.createElement(M.a,{value:u.data[l].fontSize,onChange:function(e){return y("fontSize",e.target.value)},type:"number",label:"fontSize",inputProps:{min:"1"}}),r.a.createElement(G.a,{id:"standard-weight-helper-text"},"Font Size"))),r.a.createElement("div",{style:re.colorContainer},r.a.createElement("div",{style:re.label},"Text Color"),r.a.createElement(U.CirclePicker,{colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","black","white","white","white","white","white"],onChange:function(e){return y("color",e.hex)}})))}),r.a.createElement(N.a,{button:!0,onClick:function(){i(l)}},r.a.createElement(V.a,null,"DELETE")),r.a.createElement(X,{title:"Other",content:r.a.createElement("div",{style:re.colorContainer},r.a.createElement(N.a,{button:!0,onClick:function(){i(l)}},r.a.createElement(V.a,null,"DELETE")),r.a.createElement(N.a,{button:!0,onClick:function(){u.functions.saveData(c)}},r.a.createElement(V.a,null,"SAVE")))}))},re={container:{postion:"absolute",width:300,height:200,backgroundColor:"#ccc"},textFieldContainer:{padding:"12px 0"},colorContainer:{padding:24},label:{fontSize:14,padding:"12px 0",color:"#777"}},le=n(429),oe=n(178),ie=n.n(oe),ce=n(177),ue=n.n(ce),se={addButton:{position:"absolute",right:0,bottom:0,margin:48}},de=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),l=n[0],o=n[1],i=Object(a.useState)(0),c=Object(p.a)(i,2),u=c[0],s=c[1],d=Object(a.useState)(!1),m=Object(p.a)(d,2),f=m[0],h=m[1],b=r.a.useState(),E=Object(p.a)(b,2)[1],g=Object(a.useCallback)(function(){return E({})},[]),v=Object(a.useContext)(B),x=v.data,C=v.functions,y=e.match.params.id;Object(a.useEffect)(function(){h(!0),function(){var e=Object(A.a)(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(y),e.next=3,C.initializeData(y);case 3:h(!1);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()()},[]);var w=x.map(function(e,t){return console.log(e),r.a.createElement(W,{key:t,position:t,item:e,setopen:o,setselected:s})});return f?r.a.createElement("div",null,"Loading..."):r.a.createElement(r.a.Fragment,null,w.length>0&&r.a.createElement(r.a.Fragment,null,w,r.a.createElement(ae,{open:l,setopen:o,selected:u,update:g,handleDelete:function(){o(!1),C.deleteBlock(u),s(0)},page_id:y})),r.a.createElement("div",{style:se.addButton},r.a.createElement(le.a,{"aria-label":"delete",onClick:function(){return v.functions.saveData()}},r.a.createElement(ue.a,{fontSize:"large"})),r.a.createElement(le.a,{"aria-label":"delete",onClick:function(){C.addBlock(),s(x.length-1),g()}},r.a.createElement(ie.a,{fontSize:"large"}))))},me=n(98),fe=n(29),pe=n(430),he=n(431),be=n(432),Ee=n(433),ge=n(424),ve=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},xe=Object(pe.a)({root:{display:"inline-block",width:160,height:160,textAlign:"center"}});var Ce=function(e){var t=e.title,n=e.id,a=xe();return r.a.createElement(he.a,{className:a.root},r.a.createElement(me.b,{to:"/page/".concat(n||ve())},r.a.createElement(be.a,{className:a.root},r.a.createElement(Ee.a,null,r.a.createElement(ge.a,{gutterBottom:!0,variant:"h6"},t||"(no title)")))))},ye=n(434),we=Object(pe.a)(function(e){return{root:{flexGrow:1,padding:12},menuButton:{marginRight:e.spacing(2)},title:{marginLeft:e.spacing(2),flexGrow:1}}});var Oe=function(){var e=we(),t=Object(a.useState)([]),n=Object(p.a)(t,2),l=n[0],o=n[1],i=Object(a.useState)(!1),c=Object(p.a)(i,2),u=c[0],s=c[1];Object(a.useEffect)(function(){s(!0),P()({method:"GET",url:"https://us-central1-rtfkt-pagebuilder.cloudfunctions.net/getPages"}).then(function(e){o(e.data),s(!1)}).catch(s(!1))},[]);var d=l.map(function(e,t){return r.a.createElement(Ce,{key:t,id:e.id,title:e.title})});return r.a.createElement("div",null,r.a.createElement(ye.a,{className:e.root,position:"static"},r.a.createElement(ge.a,{variant:"h6",className:e.title},"RTFKT TEST PAGE BUILDER")),r.a.createElement("h2",null,"Welcome to RTFKT Test Page Builder Demo"),r.a.createElement("div",{style:{display:"inline"}},r.a.createElement(Ce,{title:"Create New Page"}),u?r.a.createElement("div",null,"loading..."):d))},je=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(O,null,r.a.createElement("article",{className:"App-contents"},r.a.createElement(D,null,r.a.createElement(me.a,null,r.a.createElement(fe.d,null,r.a.createElement(fe.b,{exact:!0,path:"/page/:id",component:de}),r.a.createElement(fe.b,{exact:!0,path:"/",component:Oe}),r.a.createElement(fe.a,{to:"/"}))))))}}]),t}(a.Component);o.a.render(r.a.createElement(je,null),document.getElementById("root"))},61:function(e,t,n){e.exports={wrap:"FieldWrap_wrap__24ckH",control:"FieldWrap_control__3fp6a","wrap--open":"FieldWrap_wrap--open__15pn3",close:"FieldWrap_close__2b-79"}}},[[187,2,1]]]);
//# sourceMappingURL=main.de1d5840.chunk.js.map